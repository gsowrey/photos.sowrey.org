<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>EXIF example with inline EXIF info</title>
</head>
<body>

    <img src="test.jpg" id="img1" />
    <div>
        <ul>
            <li>Artist: <span id="partist"></span></li>
            <li>Caption: <span id="pcaption"></span></li>
            <li>Date: <span id="pdate"></span></li>
        </ul>        
    </div>
    <div>
        <ul id="tagdump">

        </ul>
    </div>

    <script type="text/javascript" src="exif.js"></script>
    <script>
        "use strict";
        window.onload=getExif;

        function getExif() {
            var img1 = document.getElementById("img1");
            var dump = document.getElementById("tagdump");
            EXIF.getData(img1, function() {
                var partist = EXIF.getTag(this, "Artist");
                var pcaption = EXIF.getTag(this, "Caption-Abstract");
                var pdate = EXIF.getTag(this, "CreateDate");
                document.getElementById("partist").innerHTML = `${partist}`;
                document.getElementById("pcaption").innerHTML = `${pcaption}`;
                document.getElementById("pdate").innerHTML = `${pdate}`;
            });

            EXIF.getData(img1, function() {
                let tagsAvailable = {
                    ...EXIF.Tags,
                    ...EXIF.TiffTags,
                    ...EXIF.GPSTags,
                    ...EXIF.IFD1Tags
                }
/*                let tagsAvailable = {
                    0: 'ImageDescription',
                    1: 'DateTime',
                    2: 'Artist',
                    3: 'Copyright',
                    4: 'Technology'
                }
*/
                for (let i in tagsAvailable) {
                    var item = document.createElement('li');
                    var tagdata = EXIF.getTag(this, tagsAvailable[i]);
                    if (tagdata !== undefined) {
                        item.innerHTML = `${tagsAvailable[i]} : ${tagdata}`
                        dump.appendChild(item);
                    }
                }
                console.log(tagsAvailable);
            });
        }
    </script>
</body>
</html>